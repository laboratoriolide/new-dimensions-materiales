<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>tidyr</title>
    <meta charset="utf-8" />
    <meta name="author" content="Zulemma Bazurto Blacio" />
    <meta name="date" content="2023-06-18" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link rel="stylesheet" href="css/main.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


layout: true


---
background-image: url(fig/rhispano.jpg)
background-size: cover
class: center, center, top

#.larger[.fontone[.white[tidyr: el superhéroe de tidy data]]]


.white[&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;.large[.fontone[Zulemma Bazurto Blacio ]]]




---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[Motivación: Método de Pronóstico para Exportaciones de Flores de Ecuador a USA]]]


&lt;IMG class="imagem-responsive" src="fig/Rplot01.jpeg"&gt;

.fontone[.textcenter[.weight[¿DEBEN LOS EXPORTADORES DE FLORES CONTINUAR INVIRTIENDO EN EL MERCADO ESTADOUNIDENSE?]]]
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[El génesis del procesamiento de datos:&lt;br&gt; las fuentes de información]]]


&lt;div class=" fontone weight  large"&gt;
&lt;ul style="list-style-type: none"&gt;
        &lt;li&gt; ¿QUÉ USAR?: Datos históricos acerca de las Exportaciones de Flores (del Banco Central del Ecuador)&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt; SE USÓ: Datos históricos mensuales obtenidos de TradeMap.&lt;/li&gt;
        &lt;/ul&gt;
&lt;/div&gt;

🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧
&lt;br&gt;
&lt;br&gt;

&lt;div class=" rladies fontone weight  exlarge"&gt;
&lt;ul style="list-style-type: none"&gt;

&lt;li&gt;😒😒😒AQUÍ EMPEZÓ EL PROBLEMA😒😒😒&lt;/li&gt; 
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[EXPECTATIVA]]]

&lt;IMG class="image-respons" src="fig/talashuk.jpg"&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[REALIDAD]]]

&lt;IMG class="image-respons" src="fig/reality.jpg"&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[LOS DATOS EN LA REALIDAD: &lt;br&gt; DULCES QUE SON SINSABORES]]]

&lt;div class="row"&gt;
&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;
        &lt;li&gt;😫 Datos no disponibles por las Instituciones del Estado que manejan cifras de Exportaciones.&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt;😫 Data recabada en fuentes externas: formato no deseable.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;😫 Periodicidad deseada, data particionada&lt;/li&gt;
        &lt;br&gt;
        &lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[LOS DATOS EN LA REALIDAD: &lt;br&gt; DULCES QUE SON SINSABORES]]]

&lt;IMG class="imagem-responsive" src="fig/trademap.jpg"&gt;

---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[NUESTROS PROBLEMAS CON LA DATA]]]

&lt;div class="row"&gt;
&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;
        &lt;li&gt;🤹️Sólo se podían descargar las exportaciones mensuales en archivos por separado.&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt;🤹 En Trademap, las bases descargadas fueron por partida arancelaria.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🤹 Wide format presente🤡🤡&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🤹 Títulos de columnas con caracteres especiales.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🤹 La columna código no sería un ID en sí mismo al importar la data.&lt;/li&gt;
        &lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.rladies[.fontone[LO QUE TENGO VS LO QUE QUIERO]]]

&lt;IMG class="imagen-respons" src="fig/datahand.jpg"&gt;

---
background-image: url(fig/r4ds.png)
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[El proceso Tidyverse: Los primeros pasos en análisis de datos]]

&lt;IMG class="image-respons" src="fig/tidyverse.png"/&gt;&lt;/div&gt;

---
background-image: url(fig/fore.jpg)
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[Los dulces en orden: tidy data]]


&lt;div class= 'center'&gt;&lt;IMG class="imagenes-responsive" src="fig/tidydata.jpg"&gt;&lt;/div&gt;

&lt;div class="aligncenter fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;
        &lt;li&gt;🍬 Cada variable debe tener su propia columna.&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt;🍬 Cada observación debe tener su propia fila.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🍬 Cada valor debe tener su propia celda.&lt;/li&gt;
        &lt;br&gt;
        &lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .large[.fontone[.rladies[Breaking News:&lt;br&gt; Non-tidy data!]]]


&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;
        &lt;li&gt;🎭 8 archivos .xlsx: Unir data.&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt;🎭 Wide format -&gt; Long format.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🎭 Necesitamos separar columnas.&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt;🎭 ¡Unir columnas también!&lt;/li&gt;
        &lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

&lt;IMG class="image-respons" src="fig/tidyr.jpg"/&gt;&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[Manipulación de datos: &lt;br&gt;tidyr y sus bloques para ordenar]]


&lt;div class="col-1x fontone weight  large"&gt;
&lt;ul style="list-style-type: none"&gt;
I. RESHAPE DATA
&lt;br&gt;
&lt;br&gt;
        &lt;li&gt; gather()&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt; spread()&lt;/li&gt;
        &lt;br&gt;
        &lt;li&gt; pivot_longer()&lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt; pivot_wider() &lt;/li&gt; 
&lt;/ul&gt;       


&lt;div class="col-1x fontone weight  .extralarge"&gt;
&lt;ul style="list-style-type: none"&gt;

II. SPLIT CELLS
&lt;br&gt;
&lt;br&gt;
        &lt;li&gt; unite() &lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt; separate()&lt;/li&gt;
&lt;/ul&gt;       
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;div class="col-1x fontone weight  .extralarge"&gt;
&lt;ul style="list-style-type: none"&gt;
III. EXPAND TABLES
&lt;br&gt;
&lt;br&gt;
        &lt;li&gt; complete() &lt;/li&gt; 
        &lt;br&gt;
        &lt;li&gt; expand()&lt;/li&gt;
&lt;/ul&gt; 

&lt;div class="col-1x fontone rladies weight  .extralarge"&gt;
&lt;ul style="list-style-type: none"&gt;
&lt;br&gt;
Otro tipo de manipulación: manipulación de casos y variables con **dplyr**
&lt;/div&gt;
---
background-image: url(https://i.pinimg.com/originals/f9/f7/84/f9f784ce072f7fcf18211af0bad5d437.gif)
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[.large[Rewind al Proceso Tidyverse]]]
---
background-image: url(https://media1.tenor.com/images/3d966a654be29ed3d5ad2013516183ca/tenor.gif?itemid=11315269)
background-size: 800px 800px
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .texcenter[.white[.fontone[Camino a Importar la data]]]
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

.exlarge[.fontone[.rladies[Cargando paquetería para este caso]]]

```r
library(tidyverse)
library(openxlsx)
library(tidyr)
library(ggplot2)
library(ggfortify)
library(forecast)
library(patchwork)
library(dplyr)
```

# .fontone[.rladies[Importando las 8 bases de datos]]

.fontone[.rladies[.larger[FoRma 1: Importar uno a uno los archivos .xlsx con read.xlsx() del paquete openxlsx]]]


```r
base_1&lt;-read.xlsx("data/base_1.xlsx",detectDates = TRUE)
base_2&lt;-read.xlsx("data/base_2.xlsx",detectDates = TRUE)
base_3&lt;-read.xlsx("data/base_3.xlsx",detectDates = TRUE)
base_4&lt;-read.xlsx("data/base_4.xlsx",detectDates = TRUE)
base_5&lt;-read.xlsx("data/base_5.xlsx",detectDates = TRUE)
base_6&lt;-read.xlsx("data/base_6.xlsx",detectDates = TRUE)
base_7&lt;-read.xlsx("data/base_7.xlsx",detectDates = TRUE)
base_8&lt;-read.xlsx("data/base_8.xlsx",detectDates = TRUE)
```
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[FoRma 1: Importar uno a uno los archivos .xlsx con read.xlsx() del paquete openxlsx]]

&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;

&lt;li&gt; 😄 Esta manera de importar suele hacerse cuando uno recién se está introduciendo al aprendizaje de R. ¡Está bien!😄&lt;/li&gt; 
&lt;br&gt;

&lt;/li&gt; 😕 Desventaja: Repites varias veces un mismo proceso. Más trabajo.
&lt;br&gt;

&lt;/li&gt; 😃 Ventaja: Te vas atreviendo a manipular data.
&lt;br&gt;

&lt;/li&gt; 🚧 Warning 1: Los problemas que se presenten con la data de una base, también estará en otra.
&lt;br&gt;

&lt;/li&gt; 🚧 Warning 2: Los problemas que resuelvas en la data de una base, también deberás resolverlos en las demás.
&lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;
# .fontone[.rladies[Conociendo la data]]

```r
names(base_1)
```

```
## [1] "Código.del.producto"      "Descripción.del.producto"
## [3] "Valor.en.2008-M01"        "Valor.en.2008-M02"       
## [5] "Valor.en.2008-M03"        "Valor.en.2008-M04"       
## [7] "Valor.en.2008-M05"        "Valor.en.2008-M06"       
## [9] "Valor.en.2008-M07"
```

```r
base_tbl&lt;-tbl_df(base_1)
names(base_tbl)
```

```
## [1] "Código.del.producto"      "Descripción.del.producto"
## [3] "Valor.en.2008-M01"        "Valor.en.2008-M02"       
## [5] "Valor.en.2008-M03"        "Valor.en.2008-M04"       
## [7] "Valor.en.2008-M05"        "Valor.en.2008-M06"       
## [9] "Valor.en.2008-M07"
```

.textcenter[.fontone[.rladies[.large[¿Por qué convertir a tibble?]]]]
---
background-image: url(https://cdn.atomix.vg/wp-content/uploads/2016/02/mega-man-gif.gif)
background-size: 400px 400px
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .textcenter[.fontone[A manipular datos con tidyr]]
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .rladies[.fontone[RESHAPING DATA]]

&lt;IMG class="image-respons" src="fig/gather.jpg"&gt;

---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[De wide format a long format: gather()]


```r
# long_base_1 &lt;- base_1 %&gt;% 
# gather(key="Mes",value= "Exportaciones",    Valor.en.2008.M01:Valor.en.2008.M07) 
```

&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;

&lt;li&gt;.fontone[.rladies[.weight[Lectura del código:]] Toma los nombres de las columnas "Valor.en.2008.M01 hasta 2008.M07" y colócalos en una nueva columna llamada "Mes" mientras que a los valores de estas columnas colócalos en una nueva columna llamada "Exportaciones"]&lt;/li&gt;
&lt;br&gt;

&lt;li&gt;🚧 Warning 1: Tendríamos que usar gather() 8 veces, porque leímos 8 archivos .xlsx que están esperando ser manipulados.&lt;/li&gt;
&lt;br&gt;


&lt;li&gt;🚧 Warning 2: Checa la columna "Mes", ¿Qué quisiéramos hacer con ese texto?&lt;/li&gt;
&lt;/ul&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[SPLIT CELLS: separate()]]


```r
#Manipulando la columna Mes con separate()

# separate_base_1&lt;-long_base_1 %&gt;% separate(Mes,c("chr1","chr2","Año","mes"))  
# View(separate_base_1)
```

&lt;div class="textcenter textmiddle fontone black large"&gt;
&lt;ul style="list-style-type: none"&gt;

&lt;li&gt; 🎎La función unite() realiza el proceso contrario a separate().&lt;/li&gt;
&lt;br&gt;

&lt;li&gt; 🎁 Fact: Prueba aplicando unite() al objeto 'separate_base_1'&lt;/li&gt;
&lt;br&gt;

&lt;li&gt;🚧 Warning: ¿Cuántas veces crees que deberás hacer el proceso de separate()? ¡Sí, 8 veces! y ya sabes la razón.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

#.rladies[.fontone[Un poquito de dplyr]]

## .rladies[.fontone[Seleccionando Variables para la nueva base]]

```r
#str(separate_base_1)

#select_base_1&lt;-separate_base_1 %&gt;% select(-c("chr1","chr2"))

#View(select_base_1)
```

## .fontone[.rladies[Cambiando nombres]]

```r
# names (select_base_1)[1] = "Partida"

# names(select_base_1)
# str(select_base_1)
```
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

.large[.fontone[.rladies[.textcenter[Los pasos de gather() + separate() + select() me darían 8 objetos tidy, pero ¡los necesito unidos!]]]]
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
.large[.fontone[LA SOLUCIÓN: merge]]
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
.large[.rladies[.fontone[¿Aún falta un paso más? Sí, ¡filtrar!]]]
---
background-image: url(https://steamuserimages-a.akamaihd.net/ugc/29614790447777787/8233C692391D3C10F07BAE4A6DD213A2FB697AF5/)
background-size: 800px 800px
class: center, center, top



&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

# .fontone[.rladies[FoRma 2: ¡Fatality!]]

## .rladies[.weight[.fontone[Importando de un solo golpe!]]]

```r
library(readxl)
```

```
## Warning: package 'readxl' was built under R version 4.1.3
```

```r
files &lt;- list.files(path='data',pattern = '*.xlsx',full.names = T)

## con el paquete purrr
TOTAL &lt;- map_df(files, read_excel)

## con la familia apply
tbl &lt;- sapply(files, read_excel, simplify=TRUE) %&gt;% 
bind_rows(.id = "id")

##NAMES
names(tbl)&lt;-gsub("Valor en ","AÑO",names(tbl))
names(tbl)&lt;-gsub("-",".",names(tbl))
names(tbl)&lt;-gsub("Código del producto","Partida",names(tbl))
```
---
background-image: url("fig/Fondo - 2023.PNG")
background-size: cover
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;

## .fontone[.rladies[FoRma 2: ¡Fatality!]]

.textcenter[.large[.rladies[.weight[.fontone[De gather() a pivot_longer(): más intuición que talento]]]]]

.textcenter[.fontone[.large[Este código ejecuta los pasos que hicieron gather() + separate() + select() + filter()]]]


```r
##pivot
pivot_base&lt;- tbl %&gt;% pivot_longer(
  cols = AÑO2008.M01:AÑO2018.M12,
  names_to = c("chr1","Año","chr2","Mes"),
  names_pattern = "(AÑO)(.*).(M)(.*)",
  values_drop_na=TRUE,
  values_to = "Exportaciones"
)%&gt;%  select(-c("id","chr1","chr2")) %&gt;% filter(Partida == "partida.0603") %&gt;%  View()

pivot_tbl_base&lt;-tibble::as_tibble(pivot_base)
```
---
background-image: url(https://2.bp.blogspot.com/-I0KvCcskNuk/WMCrKzfrolI/AAAAAAAGtWM/gz8w6WNw5iMGyAiWGa84vXiIxeDXiOTewCLcB/s1600/AS002398_00.gif)
background-size: 600px 600px
class: center, center, top

&lt;img src="fig/LIDE - Logo 1-12.png" style="position: absolute; top: 0; right: 0; width: 150px;"&gt;



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
